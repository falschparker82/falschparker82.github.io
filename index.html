
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Hamann Distributed</title>
  <meta name="author" content="Dominik Hamann">

  
  <meta name="description" content="or: Eight lessons in avoiding customer service disasters Last Sunday, my internet suddenly stopped working. I didn&rsquo;t think too much of it, but &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://distributed.hamann.se">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Hamann Distributed" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-41136721-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Hamann Distributed</a></h1>
  
    <h2>Making mistakes at scale so you don't have to.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:distributed.hamann.se" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/about-dom">About Dom</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/11/02/the-day-my-cable-provider-killed-me/">The Day My Cable Provider Killed Me</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-11-02T21:36:00+01:00" pubdate data-updated="true">Nov 2<span>nd</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>or: Eight lessons in avoiding customer service disasters</h2>

<p>Last Sunday, my internet suddenly stopped working. I didn&rsquo;t think too much of it, but when I reset my router as usual and it still wasn&rsquo;t working, I was getting curious. Turned out, my TV and my phone didn&rsquo;t work as well. Now, I was definitely angry. I called up the tech support of Kabel Deutschland, my cable provider. After 10 minutes in the line, I gave up and went to bed.</p>

<h4>Lesson 1)</h4>

<h4>Try to stay accessible for your customers. Of course, this isn&rsquo;t always possible or economical &ndash; but it might be helpful to separate urgent technical issues from contract support and prioritize the former. Especially if you are in a position to have significant impact on your customers&#8217; daily life.</h4>

<p>Monday morning, I called tech support again. I asked why none of my devices were working anymore and the agent looked into my case. She mumbled something about a &ldquo;horrible mistake&rdquo; but she&rsquo;s sorry and everything should be working again within 24 hours. I sighed and left for work, leaving my wife at home alone with our daughter &ndash; and no internet or phone whatsoever.</p>

<h4>Lesson 2)</h4>

<h4>If you let your customer service agents promise something to the client, make sure to keep it. If you can&rsquo;t keep it, don&rsquo;t let them promise anything specific.</h4>

<p>24 Hours later, there was still no internet. When I got to work, my wife sent me a message. Kabel Deutschland had sent a letter, offering their condolences to my death (!) and cancelling all my contracts. Now it was finally getting obvious what the &ldquo;horrible mistake&rdquo; was: I had sent a marriage certificate to them because I had changed my family name &ndash; and someone obviously mistook it for a death certificate.</p>

<h4>Lesson 3)</h4>

<h4>If your customer support is able to make high impact decisions, make sure there are basic protections against accidental or malicious misuse. It doesn&rsquo;t even have to be a four-eye principle, sometimes a checkbox &ldquo;are you sure&rdquo; can do the trick. When you&rsquo;re taking potentially harmful actions against your customers, be transparent and try to inform them early on, preferably on real-time channels.</h4>

<p>I was a little irritated and slightly bemused, but I wasn&rsquo;t too that mad about the mistake yet. I started my career in customer support and know how little people are paid in this industry and how much they have to do. I was mad though about how they dealt with it.</p>

<h4>Lesson 4)</h4>

<h4>If you are dealing with customers and make mistakes, listen to the late Dale Carnegie: Admit mistakes on the spot if you do them and apologize &ndash; it will make you much more human and believable. Don&rsquo;t try to put things under the rug.</h4>

<p>My amusement passed when my wife had to send important documents from home, rushing to neighbors with a sick kid just to plug her computer in. She called tech support from her phone, this time escalating to second level support. The agent couldn&rsquo;t see any of the other calls made the days before, but was &ldquo;shocked&rdquo;, apologized and promised again that everything would be working soon, but it would take some time. By now we were writing down names just in case.</p>

<h4>Lesson 5)</h4>

<h4>Get a CRM. If you have one, use it. If you&rsquo;re using it in first level support, share it with second level support and tech support. Get these basic things straight, before you start to get into the business of dealing with end customers.</h4>

<p>One more day passed. At that time, worried messages started to come in from all over our family because our phone line was still dead. My wife called tech support again, escalating again. They kept asking for more &ldquo;patience&rdquo;, because they would have to restart the contract and reprovision all our devices from anew. We kept waiting. Both our monthly mobile internet limits were exhausted.</p>

<h4>Lesson 6)</h4>

<h4>As an engineer running high-availability platforms, we always have a rollback plan when we deploy new software. So, when things go wrong (and they do go wrong), we can have the old state of the platform back within minutes. My cable provider was obviously completely unprepared. Switching everything off was done within minutes, reinstating the contract made them struggle.</h4>

<p>The next day was Friday. I had some work to finish on the weekend as well and was hellbent to get the company to get its act together. I called tech support, directly escalated to second level and told the lady: &ldquo;Look, you guys pronounced me dead on Monday and cancelled my contract. My wife is at home with a sick kid, completely cut off from the outer world since Monday. If you don&rsquo;t reprovision my modem within the very next 2 hours, I&rsquo;m going to clear the situation with your head of PR.&rdquo; &ndash; &ldquo;Yeah, well, you can do that, but first, give me your contract number.&rdquo;</p>

<p>In fact, I had entered the number before starting the call. (see lesson 5 for helpful remedies)</p>

<p>I gave her the number and she kept me in the line for 5 minutes. After that, she told me that &ldquo;they are sorry and they are doing everything they can&rdquo;. I should have some more patience, because she could not &ldquo;accelerate anything&rdquo;. I told her my patience was completely over and that she had exactly one hour and fifty five minutes to reinstate my contract &ndash; and if she did it in person. I hung up.</p>

<h4>Lesson 7)</h4>

<h4>Have a priority line in order to deal with urgent requests in your technical support queue. Some requests might be too important to wait in line together with all the others.</h4>

<p>In contrast to Kabel Deutschland, I keep my promises. Three and a half hours later, after confirming our wi-fi at home was still dead, I wrote a quick personal message to their Head of PR, telling him that I will go public with this story if he didn&rsquo;t answer that very day.</p>

<p>He didn&rsquo;t.</p>

<h4>Lesson 8)</h4>

<h4>Take your customers serious. Enough said.</h4>

<p>I still have no internet. Let&rsquo;s see what Monday brings.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/10/31/is-tox-secure-probably/">Will Darkmail Be Secure? Probably, but It Doesn&#8217;t Matter.</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-10-31T09:27:00+01:00" pubdate data-updated="true">Oct 31<span>st</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>So there&rsquo;s currently all the rage about the <a href="http://silentcircle.wordpress.com/2013/10/30/announcing-the-dark-mail-alliance-founded-by-silent-circle-lavabit/">Dark Mail Alliance</a>, re-inventing electronic mail in an easy to use, fully decentralized and cryptographically secure fashion. I think there are some brilliant minds on the project and I personally wish them the very best.</p>

<p>A few months ago, there was the first true spiritual successor of the original Skype called <a href="http://tox.im/">Tox</a> in the making, and I can&rsquo;t even pretend all of this this isn&rsquo;t great news. Finally the FOSS community wraps up DHT&rsquo;s, strong crypto, hole punching and even video &ndash; just like the original Skype &ndash; and puts it into a nice zero-configuration package. The project is getting well deserved publicity, crypto expertise and UX love, and is predestined to take off soon in times of PRISM-raised consumer awareness.</p>

<p>So why am I still not excited?</p>

<p>Because we&rsquo;ve progressed to far. Laws worldwide have been hollowed out from steady lobbying since 9/11 &ndash; and it helps to look into the past to predict what will happen next.</p>

<p>Tox and Darkmail are already on the shortlist of every TLA (three letter agency) worldwide. What happens if you use it? Guess what &ndash; <a href="http://www.forbes.com/sites/andygreenberg/2013/06/20/leaked-nsa-doc-says-it-can-collect-and-keep-your-encrypted-data-as-long-as-it-takes-to-crack-it/">you&rsquo;re officially making yourself a preferred target</a>.</p>

<p>A great read on this topic is PHK&rsquo;s <a href="http://queue.acm.org/detail.cfm?id=2508864">&ldquo;More encryption is not the solution&rdquo;</a> that goes much more in depth than this article and I admit I couldn&rsquo;t have written it any better.</p>

<p>But to phrase my concern in my very own words: You <em>can</em> still trust the math behind cryptography &ndash; but it doesn&rsquo;t matter at all. What you <em>can&rsquo;t</em> trust on in 2013 is your <a href="http://www.infoworld.com/d/mobile-technology/smartphone-makers-break-android-security-pre-installed-apps-180780">device manufacturer</a>, <a href="https://www.eff.org/nsa-spying">your carrier</a>, <a href="http://www.techdirt.com/articles/20130614/02110223467/microsoft-said-to-give-zero-day-exploits-to-us-government-before-it-patches-them.shtml">your operating system</a> and <a href="http://en.wikipedia.org/wiki/PRISM_%28surveillance_program%29">your e-mail provider</a>.</p>

<p>And especially if you&rsquo;re a second-class citizen of the world (or you <em>are</em> from the US, <a href="http://www.washingtonpost.com/world/national-security/nsa-infiltrates-links-to-yahoo-google-data-centers-worldwide-snowden-documents-say/2013/10/30/e51d661e-4166-11e3-8b74-d89d714ca4dd_story.html?Post+generic=%3Ftid%3Dsm_twitter_washingtonpost">and your traffic somehow gets routed outside US jurisdiction</a>), the NSA won&rsquo;t give a shit on breaking all international laws to get to the messages you are sending and receiving. Not only did they <a href="http://usgovinfo.about.com/library/weekly/aa050602b.htm">self-excempt themselves from international jurisdiction</a> like just a few other states like Cuba or North Corea &ndash; they are not even liable to any of their actions <a href="http://www.legitgov.org/Guantanamo-detainees-cant-mention-torture">to their own people</a>.</p>

<p>So who will use the new strong cryptography tools? Here&rsquo;s my prediction: 20% curious minds and technologists, 40% who have something to hide for good reason, 40% who have something to hide for bad reason. The big masses won&rsquo;t care. And as long as you&rsquo;re not using a more exotic device, carrier <em>and</em> operating system &ndash; preferably not even from your own IP as to not have blown your cover by the mere fact that you are using encrypted traffic &ndash; you can bet your ass they will go after you to have you <a href="http://www.theguardian.com/technology/2013/oct/09/silk-road-founder-new-york-charges">lynched in the public</a>.</p>

<p>So what&rsquo;s coming up next? <a href="http://arstechnica.com/gadgets/2013/07/motorolas-8-core-x8-chip-gives-us-a-lesson-in-marketing-speak/">Voice processors</a>. After Facebook helped indexing anything that you expose to the public and Dropbox went along with implicit &ldquo;free photo sharing&rdquo; to the NSA, their next target will be everything you didn&rsquo;t even want to expose. Uploading hours and hours of voice communication is still too obvious by looking at your phone bills, but 24h of your verbal communication in an encrypted zipped text file after your device&rsquo;s built-in speech recognition (of course together with GPS location info) will just disappear in the data noise of always-connected &ldquo;factory&rdquo; and carrier daemons and is easier to process for real-time analysis anyway.</p>

<p>Make no mistakes &ndash; the on-demand <a href="http://www.slate.com/blogs/future_tense/2013/06/07/nsa_surveillance_iphones_make_snooping_easy_for_spies_and_law_enforcement.html">&ldquo;roving bug&rdquo;</a> is already a reality since 2006 &ndash; this will only take it to the next level. Even switching your phone off <a href="http://www.stopcellphonetracking.com/nsa-can-still-track-your-cell-phone-even-if-its-turned-off/">will not protect you</a>, but rather make you a hard target again.</p>

<p>Privacy in the near future will be at places where you don&rsquo;t have a smartphone &ndash; and nobody around you does either. It will be as hard to find as diamond and impossible to stop if we don&rsquo;t start acting on a political level soon. And to quote my favourite political satirist, Volker Pispers: &ldquo;Politicians in Germany always say: Why not collect all the fingerprints and save them in a database? The Spaniards do it as well! &ndash; Do you actually know why? It was done by a dictatorship (Franco) and fell into the hands into a democracy. No problem &ndash; except if it happens the other way around&hellip;&rdquo;</p>

<p>If you&rsquo;re not scared yet, do yourself a favor and watch the ingenious <a href="http://www.imdb.com/title/tt0405094/">&ldquo;The lives of the others&rdquo;</a> to get a grip about what a real dictatorship managed to do with 1980&rsquo;s technology already. Put more than thirty years of technology evolution on top and you&rsquo;ll be scared shitless. If you want to know why the Germans are always at the forefront of privacy protest, that&rsquo;s why.</p>

<p>What&rsquo;s going to stop all of this? Not Tox. Not Darkmail. Simply people standing up all over the world to stop the madness.</p>

<p>And honestly &ndash; I don&rsquo;t see that coming.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/08/31/the-horrifying-state-of-egovernment-in-germany/">The Horrifying State of eGovernment in Germany</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-08-31T20:47:00+02:00" pubdate data-updated="true">Aug 31<span>st</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Working and living in Berlin, one of the current major hubs for startups and innovation in Europe, I&rsquo;m used to teams of a handful of people building globally scaling platforms in just a handful of weeks with a user experience so great that I&rsquo;m almost taking it for granted.</p>

<p>A few weeks ago, I took a forced detour from the bubble.</p>

<p>Backstory: I used to freelance for smaller IT and media design gigs with my own company, but since starting to work full time in a startup, there wasn&rsquo;t much more time to do so. Because I knew German bureaucracy is quite strict on freelancers not generating profit for years in a row, I just wanted to officially dismantle my company.</p>

<p>I already knew I didn&rsquo;t want to show up in person anymore, as the respective administrative office is far away and the opening hours are plain hostile to any working person. So I googled my way around and saw that there&rsquo;s a standard form you can download, fill out and send by snail mail, together with some copies of your documents. But hey &ndash; they were also offering the <a href="http://www.berlin.de/ordnungsamt/dienstleistungen/index.php/dienstleistung/122107/">&ldquo;online treatment of the service&rdquo;</a>!</p>

<p>Being a little too curious and naïve, I clicked on the link and followed down the rabbit hole&hellip;</p>

<h4>2013-05-26, 23:10 CET:</h4>

<p>After finding the well-hidden registration link after five paragraphs of legalese and stilted introduction, I&rsquo;m able to register my first eGovernment account at EU-DLR. Yay. At least they&rsquo;re confirming my mail address, so I&rsquo;m continuing by clicking the link in the mail.</p>

<p>I&rsquo;m greeted by a notification that tells me I&rsquo;m &ldquo;accessing the site out of business hours&rdquo;.</p>

<p>Wait. What!?</p>

<p>They&rsquo;re serious. Basically everything out of standard business hours is defined by them as a &ldquo;(possible) maintenance window&rdquo;. If the server crashes, it means basically waiting till someone fixes it only the next day. (How often it actually crashed, I found out over the next days and weeks)</p>

<p>I&rsquo;m giving up for today.</p>

<h4>2013-05-27, 19:30 CET:</h4>

<p>Trying to log in again. The system immediately logs me out. Did I do a mistake? I&rsquo;m trying again, with the same result. Switching from Firefox to Chrome. Same thing. Maybe I should really &ldquo;try Internet Explorer&rdquo; as suggested? If only it wasn&rsquo;t for the fact that it&rsquo;s 2013, I&rsquo;m on OS X and Microsoft made the world a better place in 2005 already by <a href="http://en.wikipedia.org/wiki/Internet_Explorer_for_Mac">discontinuing IE for Mac</a>.</p>

<p>Before considering to use my girlfriend&rsquo;s Windows computer, I&rsquo;m trying Safari. It seems to work now.</p>

<p>I&rsquo;m &ldquo;opening my first case&rdquo;.</p>

<p>Think of everything you know about usability and user flow &ndash; and then try to imagine a site that has been specifically crafted to ignore every single best practice in the field.</p>

<p>The workflow is a seemingly never ending series of small forms that each have a &ldquo;next&rdquo; button. Every click on next lets me wait almost one minute before continuing. Somewhere in the middle of the 5th form, after 2 minutes I&rsquo;m getting back a raw, unfiltered, unstyled &ldquo;500 Internal Server Error&rdquo;. In English, that is. Fortunately I&rsquo;m only half as confused as the average German business owner using this &ldquo;service&rdquo;.</p>

<p>I can&rsquo;t reenter the site. Giving up again for today.</p>

<h4>2013-05-28</h4>

<p>I&rsquo;m discovering that there is no way to access &ldquo;my cases&rdquo; by logging into the site normally. After the standard login, there&rsquo;s no way for me to do anything else but read the FAQ. Only by clicking the link in the activation mail or typing in the correct URL, I&rsquo;m able to enter &ldquo;my case&rdquo;.</p>

<p>Insert coin and try again.</p>

<p>This time, it&rsquo;s only taking 10 seconds after each next. In one huge form, I need to enter all my data. Address, Phone number and so on. Finally, the last step in the workflow appears:</p>

<p>I&rsquo;m able to download the very form I should have sent by snail mail from the beginning &ndash; and of course, it&rsquo;s <em>NOT</em> even prefilled with all the information that I just entered.</p>

<p>Exhausted, I&rsquo;m following the instruction, printing it out, signing it, scanning it into a PDF with the standard OS X Preview app and uploading it to the &ldquo;my case&rdquo; page.</p>

<p>It&rsquo;s a pattern that&rsquo;s constantly reoccuring: Instead of taking the opportunity and simplifying online access for citizens and business owners, the process has been designed to resemble <em>the Government&rsquo;s</em> paper workflow as closely as possible, with all the bells and whistles on top that they think they need for &ldquo;secure&rdquo; interaction. Hell, they&rsquo;re even still writing all about mailings, forms and documents.</p>

<h4>2013-06-01:</h4>

<p>I&rsquo;m getting a ticket number manually assigned. Whew &ndash; something&rsquo;s moving.</p>

<h4>2013-06-04:</h4>

<p>I&rsquo;m getting a message by the system: &ldquo;There&rsquo;s a problem with your case&rdquo;. After only 10 tries, I&rsquo;m successfully logged back in again and see that apparently they can&rsquo;t read my document. Weird. I&rsquo;m reuploading the PDF.</p>

<h4>2013-06-08:</h4>

<p>Same thing: They can&rsquo;t read my form. Again. Apparently ISO standardized and validated PDF files are way too unstandard to be read by government agencies. To top it off, when I&rsquo;m clicking the link to my uploaded and signed form in the interface, I&rsquo;m actually <em>seeing the correct PDF document in my browser</em>. How can&rsquo;t they not see or access it? This is just frustrating. Dumb actually. I&rsquo;m done here.</p>

<h4>2013-07-24:</h4>

<p>&ldquo;Your case was closed by not answering our request&rdquo;. Yeah, whatever. Total time clocked so far: way more than 3 business hours. I wish this was billable.</p>

<h4>2013-07-29:</h4>

<p>I&rsquo;ve had enough. I&rsquo;m doing what I should have been doing all along. Printing out the business dismantling form from the very first page and a copy of my ID, signing and stamping it and sending it by snail mail. Total time clocked: 10 minutes, 55 cent postage.</p>

<p>Sidenote: This could have been for free with signed e-mail as well. I even have the new German &ldquo;electronic&rdquo; ID with signature chip and a reader (introduced in 2010), uniquely identifing me as a German citizen with full cryptographic proof.</p>

<p>However, there&rsquo;s nobody to send it to: The government agency still can&rsquo;t receive signed mails &ldquo;for technical reasons&rdquo;.</p>

<p>Never would have thought I&rsquo;d ever think of sending snail mail as easier than handling my business online.</p>

<h4>2013-08-27</h4>

<p>Having long forgotten about this major disappointment, that day I&rsquo;m coming home and there&rsquo;s registered mail in my postbox: An &ldquo;Androhungsbescheid&rdquo; (literally: &ldquo;Threatening Notification&rdquo;), telling me that if I don&rsquo;t re-upload the PDF, I&rsquo;m subject to a penalty payment of 500€.</p>

<p>Seriously?</p>

<p><em>You</em> can&rsquo;t read the most standardized document format on the planet, you provide me an interface whose only purpose is to steal my time, I&rsquo;m sending you everything by mail, you can&rsquo;t even find it and put the files on my case &ndash; and now you&rsquo;re even <em>threatening</em> me?</p>

<p>I&rsquo;ve lost it. Okay, so what to do now? The two times that companies actually made me lose my composure by extreme amounts of insolence, I immediately dealt with their press department by issuing a credible threat of massive public shaming, leveraging my former media agency. Up to now, I&rsquo;ve always won &ndash; and more.</p>

<p>This time it&rsquo;s hopeless. Researching half a night, I&rsquo;m realizing that there&rsquo;s simply nobody to complain to. There&rsquo;s a single method of complaint against people or actions of the German government, called &ldquo;Dienstaufsichtsbeschwerde&rdquo; (disciplinary complaint) that&rsquo;s commonly taught to law practitioners as &ldquo;formlos, fristlos, fruchtlos&rdquo; (informally, without notice and pointless). Everyone can write one and exactly nothing will happen. There&rsquo;s just a giant moloch that&rsquo;s refusing to move.</p>

<p>This time I&rsquo;ll just play along, reopening my case and reuploading the PDF in every image format that has ever been invented from BMP to DICOM in the hope of being accepted &ndash; and only leave this blog post as an exhausted note of protest to <em>someone</em>.</p>

<p>I&rsquo;m an IT guy with some pride and attitude left. Whoever designed this system&rsquo;s UX, technical base and business processes would immediately have been fired from any of the companies I&rsquo;ve ever worked for due to total incompetence. Who does things like this to humanity? How much do they get paid? Where&rsquo;s the accountability and common sense gone in projects like this?</p>

<p>I&rsquo;m a loss of words. There&rsquo;s only so much for me to say:</p>

<p>&ldquo;Dear German government. The best way to grow and keep the economy is to not utterly frustrate and stand in the way of the people who actually grow and keep the economy.&rdquo;</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/06/01/you-probably-have-too-much-code/">You Probably Have Too Much Code.</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-06-01T17:06:00+02:00" pubdate data-updated="true">Jun 1<span>st</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>There&rsquo;s a recent trend in the software industry that I&rsquo;m watching with a little concern. Countless new tools for static code analysis and &ldquo;automated software review&rdquo; are popping up on the market and being in a technology leadership position at a successful startup myself, I&rsquo;m now getting pitched for this stuff on a regular basis. Even though I&rsquo;m absolutely dedicated to code quality, I&rsquo;m very skeptical at these tools &ndash; because, in my humble opinion, they are trying to solve the wrong problem. There&rsquo;s an uncomfortable truth that I&rsquo;d love to tell all companies seriously seeking to relieve their code quality pains by using these methodologies:</p>

<blockquote><p>You probably have too much code.</p></blockquote>


<p>The problem at the root of this issue is a decades-old industry focus and incentivization on <em>producing</em> code, not on taking it away. If you give a problem to a developer, there&rsquo;s a usual and deeply embedded Pavlov reflex of solving it by <em>writing</em> or <em>adding</em> code. It&rsquo;s what a software developer is paid for anyway, right?</p>

<h4>Less is more</h4>

<p>All these are signs of a dangerous culture that encourages software bloat, steadily leading to slowed software development up to a state of total unmaintainability. If you don&rsquo;t believe me, go <a href="http://www.sdn.sap.com/irj/scn/go/portal/prtroot/docs/library/uuid/80ba792f-5e2a-2f10-0594-89315609e177?QuickLink=index&amp;overridelayout=true&amp;55959128966099">take a look at the 3.5 gigabyte (!) binary of SAP BusinessObjects Explorer</a>. I&rsquo;ve seen so many companies grinding to a halt by throwing software layers on top of each other, that I&rsquo;ve coined a name for it: <em>Death by Abstraction</em>.</p>

<h3>Why you need less code</h3>

<h4>Less code &ndash;> less errors. Period.</h4>

<p>There are recent studies showing once and for all that the density of software errors is <a href="http://www.lsmod.de/~bernhard/cvs/text/dipl/papers/p42-basili.pdf">most strongly correlated by the number of lines in the module, <em>regardless of the language used</em></a>. Having less code makes projects stabler, leads to better test coverage and simplifies operations. It also helps to use a language that is as terse as possible (we love Coffeescript).</p>

<h4>Less I/O</h4>

<p>Code doesn&rsquo;t just have to be written &ndash; it has to be read as well. Reading and understanding code takes time, lots of it. (Paradoxically, large, complex and fragmented code bases tend to have a lot of large, complex and fragmented documentation to read on top.)</p>

<p>Time however is usually one of the most valuable and rare ressources in the software industry.</p>

<p>Having less code helps you onboarding new developers on a project and getting productive way faster, and in the same way also helps with turnover. Most importantly, it prevents complexity by &ldquo;code fear&rdquo;: If people can&rsquo;t understand other peoples&#8217; code, they tend to abstract it away. This is the exact reason monstrosities like <a href="http://en.wikipedia.org/wiki/Common_Object_Request_Broker_Architecture">CORBA</a> were born in the first place, feeding the code-adding cycle once again. I&rsquo;ve been in companies where projects had to be abandoned because of people being scared to touch a recently &ldquo;disappeared&rdquo; employee&rsquo;s source code. Writing less codes helps preventing such disasters in the first place.</p>

<h3>How to get and write less code</h3>

<h4>Incentivise and encourage a &ldquo;taking away&rdquo; mentality</h4>

<p>I can&rsquo;t overstate how important it is to continuously fight against the code-adding mentality itself that still resides in most developer&rsquo;s heads. Put into your core values, acceptance criteria and processes that taking code away is just as important (if not even slightly more) than writing it. Every net code line and file added is a maintenance liability.</p>

<h4>Simplify requirements</h4>

<p>If you are designing a software component to solve all of your current and future problems at once, <a href="http://en.wikipedia.org/wiki/Second-system_effect">you&rsquo;re setting yourself up for failure</a>. Solve the problem at hand and nothing more &ndash; if in doubt, <a href="http://en.wikipedia.org/wiki/You_aren%27t_gonna_need_it">you ain&rsquo;t gonna need it</a>.</p>

<p>Clearly separating your problem domain and constraints enables you powerful shortcuts. If a part of your internal tools does not need to be in the customer facing dashboard, you can save yourself half the development time by getting away without pixel-perfect design mockups, OAuth authentication, less QA, less testing&hellip; you get the idea.</p>

<p>Generalization is usually the enemy of lean software. One of the best strategies is to force yourself to generalize &ldquo;on demand&rdquo;. Start with all assumptions and shortcuts neccessary to make your life easier <em>right now</em> and follow the old adage <a href="http://c2.com/cgi/wiki?ThreeStrikesAndYouRefactor">&ldquo;One, Two, Three, Refactor&rdquo;</a>. Don&rsquo;t worry too much about &ldquo;later&rdquo; &ndash; more often than you think, you&rsquo;ll come up with an even more elegant solution anyway.</p>

<h4>Challenge frameworks, libraries and abstraction layers</h4>

<p>Separation of Concerns is incredibly important &ndash; but so is keeping a code base maintainable. Coming from a Java shop with nightmares of SOA done wrong, we had a grand vision of a one-page dashboard in Backbone and Chaplin.JS served by a fancy Collection+JSON API as Broadway.JS application on top of a Sequelize ORM.</p>

<p>In the end we saw we had so many dependencies and &ldquo;magic&rdquo; happening behind the scenes that displaying simple things from the database in the dashboard took ages in development &ndash; we realized we had made a 2013 version of the same mistakes in overengineering we were committed to not repeat. We threw out nearly everything and now use pure Backbone.JS on a lean, hand-built JSON API, tripling development efficiency.</p>

<p>Don&rsquo;t believe in hypes. Believe in simplicity.</p>

<h4>Take a step back</h4>

<p>If you regularly look at the big picture and question the compartment and component borders inside of peoples&#8217; heads, you&rsquo;ll often find that modules do duplicated work, can be merged or could be thrown away altogether. Be bold and go for it when there&rsquo;s an opportunity.</p>

<h4>Fight complexity all the way</h4>

<p>The sooner you realize that code is as much a part of the problem as a part of the solution, the sooner you can start coding less. If the solution to your problem can fit into a plain old class, don&rsquo;t encapsulate it with the newest MVC framework or instantiate an <a href="http://static.springsource.org/spring/docs/2.5.x/api/org/springframework/aop/framework/AbstractSingletonProxyFactoryBean.html">AbstractSingletonProxyFactoryBean</a> around it &ldquo;just because&rdquo;. Seriously, keep it as simple as possible &ndash; but not simpler.</p>

<p>I may be a heretic here, but if you look objectively at the <a href="http://en.wikipedia.org/wiki/Design_Patterns">Gang of Four patterns</a>, you&rsquo;ll realize that most of them were designed to lessen the pain of adding more code to a project involving many developers by <em>adding more code</em>. And that&rsquo;s okay, remember they come from an era without Git, TDD and Continuous Integration. They can be powerful at times, but they often serve as fuel for the vicious and self-serving cycle of software bloat. Use them wisely, but not for their own sake just or to look professional.</p>

<h4>Continuous Rewrite</h4>

<p>I&rsquo;m a big believer in Continuous Rewriting and it also <a href="http://www.citconf.com/wiki/index.php?title=Continuous_rewriting">seems to pick up adoption lately</a>. If instead of going all the way, you start out with a prototype that&rsquo;s <em>meant to be thrown away</em>, you achieve a lot of important goals:</p>

<ul>
<li>You free your mind from having to deliver the final solution and iterate <em>fast</em>, casually adding tests as you go.</li>
<li>You protect yourself from abstracting too much and prevent adding &ldquo;fixtures&rdquo; for possible future use.</li>
<li>You will have solved (a part of) the problem with working code and have validated the technical feasability of all aspects.</li>
<li>You learn a <em>lot</em> about the stuff that works and scales and the stuff that doesn&rsquo;t.</li>
</ul>


<p>Now if you have separated your problem domain properly and have tests for business rules, it&rsquo;s easy to take all the knowledge you&rsquo;ve gained to not just refactor and extend the component but to <em>completely rewrite it</em>, simplifying the internal design to the maximum. This way, we have rewritten our core matching component three times already &ndash; from 3000 lines of Java to 600 lines of Python to 200 lines of Coffeescript, while still adding functionality and scalability by a factor of 200.</p>

<h4>Pair programming and code reviews</h4>

<p>Pair programming and code reviews are the best tools to prevent people from reinventing the wheel, continuously update each other on best practices, simplify code and reduce clutter. Both techniques directly as well as indirectly lead to less code &ndash; they guarantee that someone else will understand and have read the code and reduce &ldquo;code fear&rdquo; by an order of magnitude. If you find you often don&rsquo;t have the time to do pair programming and code reviews, you probably should do more of it.</p>

<h3>More tips?</h3>

<p>I&rsquo;m curious, so be sure to let me know in the comments!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/05/31/cache-invalidation-made-easy/">Cache Invalidation Made Easy</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-05-31T08:13:00+02:00" pubdate data-updated="true">May 31<span>st</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><blockquote><p>&#8220;There are only two hard problems in Computer Science: cache invalidation and naming things.&#8221;</p><footer><strong>Phil Karlton</strong></footer></blockquote>


<p>Full disclaimer: No, I didn&rsquo;t find the perfect solution either (guess it&rsquo;s an NP hard problem). For a lot of use cases, one of the generically applicable patterns I like best is explained very well by <a href="http://37signals.com/svn/posts/3113-how-key-based-cache-expiration-works">DHH</a> &ndash; my problem with it was that it does not cover the case when entity content changes under the very same ID. I will show you another nice and generic pattern for just this purpose for you to have another trick up your sleeve.</p>

<p>For us, the key problem was about distributed tracking applications caching metadata about the campaigns or images we&rsquo;re delivering. For example, if a campaign manager needs to change the URL, the tracking application needs to redirect to another target. As the tracking is high volume, caching was a no-brainer. For cache invalidation, we settled for a pull approach of one minute refreshes from the database first, which could unfortunately serve stale data and obviously wouldn&rsquo;t scale with growing numbers of entries and servers.</p>

<p>Now instead of custom-building something ourselves, we thought of a more generic approach &ndash; and for us, it boiled down to a dead simple convention.</p>

<h4>How it works</h4>

<p>First step, set up a messaging service. If you&rsquo;re on Amazon like us, <a href="http://aws.amazon.com/de/sns/">SNS</a> (+<a href="http://aws.amazon.com/de/sqs/">SQS</a> maybe) fits the bill perfectly and is set up in minutes, otherwise you might consider <a href="http://www.rabbitmq.com/">RabbitMQ</a> or any AMQP provider.</p>

<p>Second step, create one topic for every entity with the same name.</p>

<p>Third step, follow an easy convention:</p>

<ul>
<li>Everyone who is mutating this entity (with us, it&rsquo;s just the API, making things even easier) publishes the entity ID to the topic after writing to the database.</li>
<li>Everyone who is caching this entity subscribes to the topic and re-pulls the instance when a &ldquo;dirty&rdquo; ID comes in.</li>
</ul>


<h5>This approach is so beautiful for a lot of reasons:</h5>

<ul>
<li>Loose coupling. There are no hard dependencies between any apps following this pattern, but they all work together magically with no stale caches</li>
<li>Very easy to convert from a pull-based system</li>
<li>No to low security hassle. Data never goes through the queue, only IDs</li>
<li>Added plus for SNS users: You can safely leave the dirty work of monitoring and reliably keeping up a messaging system to Amazon.</li>
</ul>


<p>Caveat lector: Obviously this approach will probably only be viable for medium- to low-volume core and master data. For caching and invalidation at several orders of magnitude higher, you&rsquo;d probably be looking at specialized solutions and optimized modelling (Cassandra, S4 and the likes). Also, be careful as this eventually consistent solution still has some low but unknown amount of time where the cache will be stale. So if you&rsquo;re <em>absolutely dependent</em> on consistency for a problem domain, there are few other ways than disabling caching altogether.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/05/22/careful-with-cassandra-upserts/">Careful With Cassandra Upserts</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-05-22T08:13:00+02:00" pubdate data-updated="true">May 22<span>nd</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>A nice thing about Cassandra is the easily understandable data model: There are just upserts &ndash; an insert will automatically update / overwrite old rows. This does NOT hold true however in every case when using <em>dynamic</em> columns, as Cassandra does not have the same concept of a &ldquo;row&rdquo; as a traditional database.</p>

<p>Essentially, a Cassandra &ldquo;row&rdquo; is just a double hashmap. One layer goes to the key and says exactly <em>on which server</em> the row is, and the column key says <em>where on the server</em> the column is. This very flexible concept can lead to a problem later on though when some of the columns are different.</p>

<p>Here&rsquo;s an entry in the &ldquo;Employees&rdquo; ColumnFamily:</p>

<pre><code>employee_id: 599 (KEY)
name: "Larry Page"
age: 46
</code></pre>

<p>Now for various reasons, we have to update employee 599 with another denormalized person:</p>

<pre><code>employee_id: 599 (KEY)
name: "Sylvie Stone"
devices: ["MacBook Pro"]
</code></pre>

<p>Sylvie didn&rsquo;t tell us her age (she&rsquo;s a lady after all!) and for new employees, we&rsquo;re also tracking the devices we handed them. When we&rsquo;re upserting employee 599, a lot of people with SQL or a document-oriented database background are expecting to have the second entry in the database. That&rsquo;s not true at all unfortunately &ndash; what we will find now is this:</p>

<pre><code>employee_id: 599 (KEY)
name: "Sylvie Stone"
devices: ["MacBook Pro"]
age: 46
</code></pre>

<p>Welcome to the world of column-oriented databases &ndash; and before you think &ldquo;WTF&rdquo;, think about it for a moment. This is expected behaviour and part of Cassandra&rsquo;s &ldquo;independent columns&rdquo; paradigm. Even if it looks like it in CQL, you never actually overwrite rows &ndash; you overwrite the columns behind it.</p>

<p>So how to avoid this? You just need to model your data properly or navigate around it. As Cassandra columns are way smarter than columns in other databases, there exists a way to correct for this effect in case it&rsquo;s needed. How? Look under the hood. What Cassandra really stores is this:</p>

<pre><code>"599": [
    {name:employee_id, value:599, timestamp: 1340385863990010, ttl: 0},
    {name:name, value:"Sylvie Stone", timestamp: 1340385863990010, ttl: 0},
    {name:devices, value:["MacBook Pro"], timestamp: 1340385863990010, ttl: 0},
    {name:age, value:46, timestamp: 1340133763990010, ttl: 0}
]
</code></pre>

<p>As you&rsquo;ll have imagined, Sylvie is relieved she&rsquo;s not really 46&hellip; the entry is simply older than the rest of them, but was neither deleted nor overwritten!</p>

<p>Every decent driver for Cassandra can expose the timestamps and TTL&rsquo;s as well &ndash; and there&rsquo;s your solution to clean up the mess in the &ldquo;eventually consistent&rdquo; paradigm that the database follows: If it&rsquo;s not the same timestamp as the key, simply discard the column (you&rsquo;re free to delete it as well).</p>

<p>And don&rsquo;t worry, this added hassle in handling something that would be considered a no-brainer with more conventional databases is more than worth the flexibility gained with Cassandra&rsquo;s independent columns. More on advanced data modelling leveraging this power will follow!</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/11/02/the-day-my-cable-provider-killed-me/">The Day My Cable Provider Killed Me</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/10/31/is-tox-secure-probably/">Will Darkmail Be Secure? Probably, but It Doesn&#8217;t Matter.</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/08/31/the-horrifying-state-of-egovernment-in-germany/">The Horrifying State of eGovernment in Germany</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/06/01/you-probably-have-too-much-code/">You Probably Have Too Much Code.</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/05/31/cache-invalidation-made-easy/">Cache Invalidation Made Easy</a>
      </li>
    
  </ul>
</section>

  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Dominik Hamann -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'hamanndistributed';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>











</body>
</html>
